{"version":3,"sources":["modules/auth.js","components/ArticlesCard.jsx","modules/articles.js","components/ArticlesList.jsx","components/SpecificArticle.jsx","components/NavigationBar.jsx","components/LoginForm.jsx","components/SignUpForm.jsx","components/ProtectedRoutes.jsx","components/PaymentForm.jsx","modules/subscriptions.js","components/BecomeSubscriber.jsx","modules/location.js","App.jsx","serviceWorker.js","index.js","state/store/initialState.js","state/reducers/rootReducer.js","state/store/configureStore.js"],"names":["apiUrl","ArticlesCard","article","Card","as","Link","to","id","Content","Header","data-cy","title","Description","teaser","image","Image","src","auth","JtockAuth","host","prefixUrl","getAuthHeaders","headers","localStorage","getItem","JSON","parse","Accept","persistLogin","dispatch","a","credentials","validateToken","response","success","type","payload","authenticated","currentUser","data","console","log","Articles","index","category","location","axios","get","result","articles","error_message","show","articleId","role","error","ArticlesList","useState","setArticles","errorMessage","setErrorMessage","useParams","local","useLocation","message","setMessage","useEffect","constructor","Array","getArticles","state","Container","Segment","textAlign","charAt","toUpperCase","slice","Message","positive","negative","Grid","Row","map","class","key","SpecificArticle","setArticle","useSelector","getSingleArticle","size","centered","content","premium","inverted","Button","color","NavigationBar","activeItem","setActiveItem","country","handleItemClick","name","columns","Column","width","Subheader","Menu","Item","active","onClick","pathname","position","LoginForm","registrationMessage","setRegistrationMessage","useDispatch","history","useHistory","login","event","preventDefault","email","target","value","password","signIn","replace","errors","Form","onSubmit","Input","icon","iconPosition","label","placeholder","primary","SignUpForm","failureMessage","setFailureMessage","signUp","password_confirmation","passwordConfirmation","status","full_messages","ProtectedRoute","children","render","injectStripe","props","payWithStripe","e","stripe","createToken","stripeResponse","submitPayment","token","Field","required","Subscriptions","create","stripeToken","post","BecomeSubscriber","paymentStatus","push","getCurrentPosition","navigator","geolocation","pos","getCountry","coords","latitude","longitude","apiKey","process","REACT_APP_OPEN_CAGE_API_KEY","results","components","App","exact","path","component","ProtectedRoutes","Boolean","window","hostname","match","initialState","rootReducer","action","store","createStore","configureStore","defaults","baseURL","ReactDOM","document","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.365bb22d.chunk.js","sourcesContent":["import JtockAuth from \"j-tockauth\";\n\nlet apiUrl;\nif (process.env.NODE_ENV === \"production\") {\n  apiUrl = \"https://good-morning-news-team1.herokuapp.com/\";\n} else {\n  apiUrl = \"http://localhost:3000\";\n}\n\nconst auth = new JtockAuth({\n  host: apiUrl,\n  prefixUrl: \"/api/v1\",\n});\n\nconst getAuthHeaders = () => {\n  let headers = localStorage.getItem(\"J-tockAuth-Storage\");\n  headers = JSON.parse(headers);\n  headers = {\n    ...headers,\n    \"Content-type\": \"application/json\",\n    Accept: \"application/json\",\n  };\n  return headers;\n};\n\nconst persistLogin = async (dispatch) => {\n  if (localStorage.getItem(\"J-tockAuth-Storage\")) {\n    let credentials = JSON.parse(localStorage.getItem(\"J-tockAuth-Storage\"));\n    const response = await auth.validateToken(credentials);\n\n    if (response.success) {\n      dispatch({\n        type: \"AUTHENTICATE\",\n        payload: {\n          authenticated: response.success,\n          currentUser: response.data,\n        },\n      });\n    } else {\n      console.log(response);\n    }\n  }\n};\n\nexport { auth, getAuthHeaders, persistLogin };\n","import React from \"react\";\nimport { Card, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nconst ArticlesCard = ({ article }) => {\n  return (\n    <Card as={Link} to={`/articles/${article.id}`}>\n      <Card.Content >\n        <Card.Header data-cy=\"title\">{article.title}</Card.Header>\n        <Card.Description data-cy=\"teaser\">{article.teaser}</Card.Description>\n      </Card.Content>\n      {article.image && <Image data-cy=\"image\" src={article.image} />}\n    </Card>\n  );\n};\n\nexport default ArticlesCard;\n","import axios from \"axios\";\nimport { getAuthHeaders } from \"./auth\";\n\nconst Articles = {\n  async index(category, location) {\n    let response;\n    try {\n      let result;\n      if (category) {\n        result = await axios.get(`/articles/?category=${category}`);\n      } else if (location) {\n        result = await axios.get(`/articles/?location=${location}`);\n      } else {\n        result = await axios.get(`/articles`);\n      }\n      response = result.data.articles;\n    } catch (error) {\n      response = error.response.data.error_message;\n    } finally {\n      return response;\n    }\n  },\n\n  async show(articleId, role) {\n    try {\n      let result;\n      if (role) {\n        result = await axios.get(`/articles/${articleId}`, {\n          headers: getAuthHeaders(),\n        });\n      } else {\n        result = await axios.get(`/articles/${articleId}`);\n      }\n      return result.data.article;\n    } catch (error) {\n      return error.response.data.error;\n    }\n  },\n};\nexport default Articles;\n","import ArticlesCard from \"./ArticlesCard\";\nimport React, { useState, useEffect } from \"react\";\nimport Articles from \"../modules/articles\";\nimport { Grid, Container, Message, Header, Segment } from \"semantic-ui-react\";\nimport { useParams, useLocation } from \"react-router-dom\";\n\nconst ArticlesList = () => {\n  const [articles, setArticles] = useState([]);\n  const [errorMessage, setErrorMessage] = useState();\n  const { category, local } = useParams();\n  let location = useLocation();\n  const [message, setMessage] = useState();\n\n  useEffect(() => {\n    const getArticles = async () => {\n      const response = await Articles.index(category, local);\n      if (response?.constructor === Array) {\n        setArticles(response);\n        setErrorMessage(\"\");\n      } else {\n        setArticles([]);\n        setErrorMessage(response);\n      }\n    };\n    getArticles();\n  }, [category, local]);\n\n  useEffect(() => {\n    if (location.state) {\n      setMessage(location.state.message);\n    }\n  }, [location]);\n\n  return (\n    <>\n      {local && (\n        <Container>\n          <Segment textAlign=\"center\">\n            <Header>\n              {local === \"Sweden\"\n                ? \"Welcome to our news about Sweden!\"\n                : \"Enjoy our International section!\"}\n            </Header>\n          </Segment>\n        </Container>\n      )}\n      {category ? (\n        <Container>\n          <Segment textAlign=\"center\">\n            <Header>\n              Enjoy our {category.charAt(0).toUpperCase() + category.slice(1)}{\" \"}\n              section!\n            </Header>\n          </Segment>\n        </Container>\n      ) : (\n        !local && (\n          <Container>\n            <Segment textAlign=\"center\">\n              <Header>Enjoy our content!</Header>\n            </Segment>\n          </Container>\n        )\n      )}\n      {message && (\n        <Message positive data-cy=\"payment-success-message\">\n          <Message.Header>{message}</Message.Header>\n        </Message>\n      )}\n      {errorMessage && (\n        <Message negative data-cy=\"error-message\">\n          <Message.Header>{errorMessage}</Message.Header>\n        </Message>\n      )}\n      <div id=\"container\">\n        <Grid>\n          <Grid.Row>\n            {articles.map((article) => {\n              return (\n                <div class=\"card-style\" data-cy={\"article-\" + article.id} key={article.id}>\n                  <ArticlesCard article={article} />\n                </div>\n              );\n            })}\n          </Grid.Row>\n        </Grid>\n      </div>\n    </>\n  );\n};\nexport default ArticlesList;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport Articles from \"../modules/articles\";\nimport { Container, Button, Segment, Image } from \"semantic-ui-react\";\nimport { useSelector } from \"react-redux\";\n\nconst SpecificArticle = () => {\n  const [article, setArticle] = useState({});\n  const [message, setMessage] = useState();\n  const { id } = useParams();\n  const role = useSelector((state) => state.currentUser.role);\n\n  useEffect(() => {\n    const getSingleArticle = async () => {\n      const response = await Articles.show(id, role);\n      if (response.id) {\n        setArticle(response);\n      } else {\n        setMessage(response);\n      }\n    };\n    getSingleArticle();\n  }, [id]);\n\n  return (\n    <>\n      {message ? (\n        <p data-cy=\"error-message\">{message}</p>\n      ) : (\n        <Container id=\"container1\" textAlign=\"center\">\n          <div data-cy=\"article\">\n            <h1 data-cy=\"title\">{article.title}</h1>\n            <h3 data-cy=\"teaser\">{article.teaser}</h3>\n            {article.image && (\n            <Image size=\"medium\" centered data-cy=\"image\" src={article.image} />\n            )}\n            <p data-cy=\"content\">{article.content}</p>\n          </div>\n\n          {article.premium && role !== \"subscriber\" && (\n            <Segment inverted id=\"menu\" textAlign=\"center\">\n              <h4 data-cy=\"premium-alert\">\n                This is part of our premium content, to get full access become\n                premium user\n              </h4>\n              <Button\n                color=\"black\"\n                data-cy=\"premium-button\"\n                as={Link}\n                to={role === \"registered\" ? \"/become-subscriber\" : \"/login\"}\n              >\n                {role === \"registered\"\n                  ? \"Become premium!\"\n                  : \"Register & Become premium!\"}\n              </Button>\n            </Segment>\n          )}\n        </Container>\n      )}\n    </>\n  );\n};\n\nexport default SpecificArticle;\n","import React, { useState } from \"react\";\nimport { Header, Menu, Grid, Button } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nconst NavigationBar = () => {\n  const [activeItem, setActiveItem] = useState(\"news\");\n  const authenticated = useSelector((state) => state.authenticated);\n  const currentUser = useSelector((state) => state.currentUser);\n  const country = useSelector((state) => state.country);\n\n  const handleItemClick = ({ name }) => {\n    setActiveItem(name);\n  };\n  return (\n    <Header as=\"h1\" id=\"header\">\n      <Grid id=\"main-grid\">\n        <Grid.Row columns={4} id=\"GMN-logo\">\n          <Grid.Column id=\"good\" width={2} textAlign=\"right\">\n            Good\n          </Grid.Column>\n          <Grid.Column id=\"morning\" width={2} textAlign=\"center\">\n            Morning\n          </Grid.Column>\n          <Grid.Column id=\"News\" width={2} textAlign=\"left\">\n            News\n          </Grid.Column>\n          <Grid.Column id=\"slogan\" width={8} textAlign=\"right\">\n            For a great start of the day\n          </Grid.Column>\n        </Grid.Row>{\" \"}\n      </Grid>\n      <Header.Subheader data-cy=\"navigation-bar\">\n        <Menu id=\"menu\">\n          <Menu.Item\n            data-cy=\"location\"\n            name=\"location\"\n            active={activeItem === \"location\"}\n            onClick={handleItemClick}\n            as={Link}\n            to={{ pathname: `/local/${country}` }}\n          >\n            {country}\n          </Menu.Item>\n          <Menu.Item\n            data-cy=\"home\"\n            name=\"home\"\n            active={activeItem === \"home\"}\n            onClick={handleItemClick}\n            as={Link}\n            to={{ pathname: \"/\" }}\n          >\n            Home\n          </Menu.Item>\n          <Menu.Item\n            data-cy=\"sports\"\n            name=\"sports\"\n            active={activeItem === \"sports\"}\n            onClick={handleItemClick}\n            as={Link}\n            to={{ pathname: \"/category/sports\" }}\n          >\n            Sports\n          </Menu.Item>\n          <Menu.Item\n            data-cy=\"business\"\n            name=\"business\"\n            active={activeItem === \"business\"}\n            onClick={handleItemClick}\n            as={Link}\n            to={{ pathname: \"/category/business\" }}\n          >\n            Business\n          </Menu.Item>\n          <Menu.Item\n            data-cy=\"entertainment\"\n            name=\"entertainment\"\n            active={activeItem === \"entertainment\"}\n            onClick={handleItemClick}\n            as={Link}\n            to={{ pathname: \"/category/entertainment\" }}\n          >\n            Entertainment\n          </Menu.Item>\n          <Menu.Item\n            data-cy=\"weather\"\n            name=\"weather\"\n            active={activeItem === \"weather\"}\n            onClick={handleItemClick}\n            as={Link}\n            to={{ pathname: \"/category/weather\" }}\n          >\n            Weather\n          </Menu.Item>\n          <Menu.Item\n            data-cy=\"news\"\n            name=\"news\"\n            active={activeItem === \"news\"}\n            onClick={handleItemClick}\n            as={Link}\n            to={{ pathname: \"/category/news\" }}\n          >\n            News\n          </Menu.Item>\n\n          {authenticated ? (\n            currentUser.role !== \"subscriber\" && (\n              <Menu.Item\n                position=\"right\"\n                data-cy=\"become-subscriber\"\n                name=\"become-subscriber\"\n                active={activeItem === \"become-subscriber\"}\n                as={Link}\n                to={{ pathname: \"/become-subscriber\" }}\n                inverted\n              >\n                Become Subscriber\n              </Menu.Item>\n            )\n          ) : (\n            <Menu.Item position=\"right\">\n              <Button\n                color=\"black\"\n                data-cy=\"login-button\"\n                name=\"login\"\n                active={activeItem === \"login\"}\n                as={Link}\n                to={{ pathname: \"/login\" }}\n              >\n                Login\n              </Button>\n              <Menu.Item></Menu.Item>\n              <Button\n                color=\"black\"\n                data-cy=\"sign-up-button\"\n                name=\"sign-up\"\n                active={activeItem === \"sign-up\"}\n                as={Link}\n                to={{ pathname: \"/sign_up\" }}\n              >\n                Sign Up\n              </Button>\n            </Menu.Item>\n          )}\n        </Menu>\n      </Header.Subheader>\n    </Header>\n  );\n};\nexport default NavigationBar;\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Form, Container, Message } from \"semantic-ui-react\";\nimport { auth } from \"../modules/auth\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst LoginForm = () => {\n  const [message, setMessage] = useState();\n  const [registrationMessage, setRegistrationMessage] = useState();\n  let location = useLocation();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const login = async (event, dispatch, history) => {\n    event.preventDefault();\n    try {\n      const email = event.target.email.value;\n      const password = event.target.password.value;\n\n      const response = await auth.signIn(email, password);\n      dispatch({\n        type: \"AUTHENTICATE\",\n        payload: {\n          authenticated: response.success,\n          currentUser: response.data,\n        },\n      });\n\n      history.replace({ pathname: \"/\" });\n\n    } catch (error) {\n      setMessage(error.response.data.errors[0]);\n    }\n  };\n\n  useEffect(() => {\n    if (location.state) {\n      setRegistrationMessage(location.state.message);\n    }\n  }, [location]);\n\n  return (\n    <Container>\n      {registrationMessage && (\n        <Message positive data-cy=\"registration-message\">\n          <Message.Header>{registrationMessage}. Your registration was successful! Please log in to confirm your registration</Message.Header>\n        </Message>\n      )}\n      <Form\n        data-cy=\"login-form\"\n        onSubmit={(event) => login(event, dispatch, history)}\n      >\n        <Form.Input\n          icon=\"user\"\n          iconPosition=\"left\"\n          label=\"Email:\"\n          placeholder=\"email\"\n          name=\"email\"\n          type=\"email\"\n          id=\"email\"\n          data-cy=\"email\"\n        />\n\n        <Form.Input\n          icon=\"lock\"\n          iconPosition=\"left\"\n          placeholder=\"password\"\n          label=\"Password:\"\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n          data-cy=\"password\"\n        />\n        <Button data-cy=\"submit\" id=\"Submit\" content=\"Submit\" primary />\n      </Form>\n      {message && (\n        <Message negative data-cy=\"message\">\n          <Message.Header>{message}</Message.Header>\n        </Message>\n      )}\n    </Container>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport { Button, Form, Container, Message } from \"semantic-ui-react\";\nimport { auth } from \"../modules/auth\";\nimport { useHistory } from \"react-router-dom\";\n\nconst SignUpForm = () => {\n  const [failureMessage, setFailureMessage] = useState(\"\");\n  const history = useHistory();\n\n  const signUp = async (event, history) => {\n    event.preventDefault();\n    try {\n      const email = event.target.email.value;\n      const password = event.target.password.value;\n      const password_confirmation = event.target.passwordConfirmation.value;\n      const response = await auth.signUp({\n        email: email,\n        password: password,\n        password_confirmation: password_confirmation,\n      });\n      history.replace(\"/login\", { message: response.data.status });\n    } catch (error) {\n      setFailureMessage(error.response.data.errors.full_messages[0]);\n    }\n  };\n\n  return (\n    <Container>\n      <Form data-cy=\"sign-up-form\" onSubmit={(event) => signUp(event, history)}>\n        <Form.Input\n          icon=\"user\"\n          iconPosition=\"left\"\n          label=\"Email:\"\n          placeholder=\"email\"\n          name=\"email\"\n          type=\"email\"\n          id=\"email\"\n          data-cy=\"email\"\n        />\n\n        <Form.Input\n          icon=\"lock\"\n          iconPosition=\"left\"\n          placeholder=\"password\"\n          label=\"Password:\"\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n          data-cy=\"password\"\n        />\n        <Form.Input\n          icon=\"lock\"\n          iconPosition=\"left\"\n          placeholder=\"password-confirmation\"\n          label=\"Password confirmation:\"\n          type=\"password\"\n          name=\"password-confirmation\"\n          id=\"passwordConfirmation\"\n          data-cy=\"password-confirmation\"\n        />\n        <Button data-cy=\"submit\" id=\"Submit\" content=\"Submit\" primary />\n      </Form>\n      {failureMessage && (\n        <Message negative>\n          <Message.Header data-cy=\"failure-message\">{failureMessage}</Message.Header>\n        </Message>\n      )}\n    </Container>\n  );\n};\n\nexport default SignUpForm;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nconst ProtectedRoute = ({ children }) => {\n  const authenticated = useSelector((state) => state.authenticated);\n\n  return (\n    <Route\n      render={() =>\n        authenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport {\n  CardExpiryElement,\n  CardCVCElement,\n  CardNumberElement,\n  injectStripe,\n} from \"react-stripe-elements\";\nimport { Button, Container, Form, Header, Segment } from \"semantic-ui-react\";\n\nconst PaymentForm = (props) => {\n  const payWithStripe = async (e) => {\n    e.preventDefault();\n    let stripeResponse = await props.stripe.createToken();\n    props.submitPayment(stripeResponse.token.id);\n  };\n\n  return (\n    <>\n      <Container>\n        <div class=\"centered\">\n          <Segment color=\"blue\">\n            <Header data-cy=\"subscription-header\" textAlign=\"center\">\n              Submit your subscription and enjoy full Good Morning Content!\n            </Header>\n            <Form size=\"small\" onSubmit={payWithStripe}>\n              <Form.Field required data-cy=\"card-number\">\n                <label>Card Number</label>\n                <CardNumberElement />\n              </Form.Field>\n              <Form.Field required data-cy=\"card-expiry\">\n                <label>Card Expiry</label>\n                <CardExpiryElement />\n              </Form.Field>\n              <Form.Field required data-cy=\"card-cvc\">\n                <label>Card CVC</label>\n                <CardCVCElement />\n              </Form.Field>\n\n              <Button color=\"blue\" type=\"submit\">\n                Subscribe Now!\n              </Button>\n            </Form>\n          </Segment>\n        </div>\n      </Container>\n    </>\n  );\n};\n\nexport default injectStripe(PaymentForm);\n","import axios from \"axios\";\nimport { getAuthHeaders } from \"./auth\";\n\nconst Subscriptions = {\n  async create(stripeToken) {\n    let response;\n    try {\n      const result = await axios.post(\n        \"/subscriptions\",\n        {\n          stripeToken: stripeToken,\n        },\n        {\n          headers: getAuthHeaders(),\n        }\n      );\n      response = { success: true, message: result.data.message };\n    } catch (error) {\n      response = { success: false, message: error.response.data.message };\n    } finally {\n      return response;\n    }\n  },\n};\n\nexport default Subscriptions;\n","import React, { useState } from \"react\";\nimport { Elements } from \"react-stripe-elements\";\nimport PaymentForm from \"./PaymentForm\";\nimport Subscriptions from \"../modules/subscriptions\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { Message } from \"semantic-ui-react\";\n\nconst BecomeSubscriber = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [failureMessage, setFailureMessage] = useState();\n\n  const submitPayment = async (stripeToken) => {\n    let paymentStatus = await Subscriptions.create(stripeToken);\n\n    if (paymentStatus.success) {\n      dispatch({\n        type: \"USER_IS_SUBSCRIBER\",\n        payload: {\n          role: \"subscriber\",\n        },\n      });\n      history.push(\"/\", { message: paymentStatus.message });\n    } else {\n      setFailureMessage(paymentStatus.message);\n    }\n  };\n\n  return (\n    <>\n      <Elements>\n        <PaymentForm submitPayment={submitPayment} />\n      </Elements>\n      {failureMessage && (\n        <Message negative data-cy=\"failure-message\">\n          <Message.Header>{failureMessage}</Message.Header>\n        </Message>\n      )}\n    </>\n  );\n};\n\nexport default BecomeSubscriber;\n","import axios from \"axios\";\n\nconst getCurrentPosition = async (dispatch) => {\n  navigator.geolocation.getCurrentPosition(async (pos) => {\n    const country = await getCountry(pos.coords.latitude, pos.coords.longitude);\n\n    dispatch({\n      type: \"SET_LOCATION\",\n      payload: {\n        country: country,\n      },\n    });\n  });\n};\nconst getCountry = async (latitude, longitude) => {\n  const apiKey = process.env.REACT_APP_OPEN_CAGE_API_KEY;\n\n  try {\n    const result = await axios.get(\n      `https://api.opencagedata.com/geocode/v1/json?q=${latitude}%2C${longitude}&language=en&key=${apiKey}`\n    );\n\n    return result.data.results[0].components.country;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport { getCurrentPosition };\n","import React, { useEffect } from \"react\";\nimport ArticlesList from \"./components/ArticlesList\";\nimport { Switch, Route } from \"react-router-dom\";\nimport SpecificArticle from \"./components/SpecificArticle\";\nimport NavigationBar from \"./components/NavigationBar\";\nimport LoginForm from \"./components/LoginForm\";\nimport SignUpForm from \"./components/SignUpForm\";\nimport ProtectedRoutes from \"./components/ProtectedRoutes\";\nimport BecomeSubscriber from \"./components/BecomeSubscriber\";\nimport { persistLogin } from \"./modules/auth\";\nimport { useDispatch } from \"react-redux\";\nimport { getCurrentPosition } from \"./modules/location\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    getCurrentPosition(dispatch);\n    persistLogin(dispatch);\n  }, []);\n\n  return (\n    <>\n      <NavigationBar />\n      <Switch>\n        <Route exact path=\"/articles/:id\" component={SpecificArticle} />\n        <Route exact path=\"/category/:category\" component={ArticlesList} />\n        <Route exact path=\"/login\" component={LoginForm} />\n        <Route exact path=\"/sign_up\" component={SignUpForm} />\n        <Route exact path=\"/local/:local\" component={ArticlesList} />\n\n        <ProtectedRoutes path=\"/become-subscriber\">\n          <BecomeSubscriber />\n        </ProtectedRoutes>\n\n        <Route exact path=\"/\" component={ArticlesList} />\n      </Switch>\n    </>\n  );\n};\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./state/store/configureStore\";\nimport { StripeProvider } from \"react-stripe-elements\";\n\nconst store = configureStore();\n\nwindow.store = store;\n\nlet apiUrl;\nif (process.env.NODE_ENV === \"production\") {\n  apiUrl = \"https://good-morning-news-team1.herokuapp.com/api/v1\";\n} else {\n  apiUrl = \"http://localhost:3000/api/v1\";\n}\n\naxios.defaults.baseURL = apiUrl;\n\nReactDOM.render(\n  <StripeProvider apiKey=\"pk_test_51HdYrMDq51jzAKNH4YJ57mqONMDOMjEbIiQxTz1Tm52eSsWwXZZTTVKKvHmjNljMflZ8nmeJdz4SyBzK6IuwBt0I00XuNFcgTi\">\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </StripeProvider>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n","const initialState = {\n  currentUser: {},\n  authenticated: false,\n  country: \"Local\",\n};\n\nexport default initialState;\n","import initialState from \"../store/initialState\";\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"AUTHENTICATE\":\n      return {\n        ...state,\n        authenticated: action.payload.authenticated,\n        currentUser: action.payload.currentUser,\n      };\n    case \"USER_IS_SUBSCRIBER\":\n      return {\n        ...state,\n        currentUser: {\n          ...state.currentUser,\n          role: action.payload.role,\n        },\n      };\n    case \"SET_LOCATION\":\n      return {\n        ...state,\n        country: action.payload.country,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default rootReducer;\n","import { createStore } from \"redux\";\nimport rootReducer from \"../reducers/rootReducer\";\n\nconst configureStore = () => {\n  return createStore(rootReducer);\n};\n\nexport default configureStore;"],"sourceRoot":""}